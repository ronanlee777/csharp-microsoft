<!-- Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT License. See LICENSE in the project root for license information. -->
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls">


    <!-- Explain why background should be set for pointer events -->
    <Style TargetType="muxc:PipsControl">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="HorizontalAlignment" Value="Left"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
        <Setter Property="PreviousButtonStyle" Value="{StaticResource PipsControlPreviousPageButtonStyle}"/>
        <Setter Property="NextButtonStyle" Value="{StaticResource PipsControlNextPageButtonStyle}"/>
        <Setter Property="SelectedIndicatorStyle" Value="{StaticResource PipsControlSelectedPipButtonStyle}"/>
        <Setter Property="DefaultIndicatorStyle" Value="{StaticResource PipsControlDefaultPipButtonStyle}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="muxc:PipsControl">
                    <Grid x:Name="RootGrid"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalAlignment}"
                            Background="{TemplateBinding Background}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                    
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="PreviousPageButtonVisibilityStates">
                                <VisualState x:Name="PreviousPageButtonHidden"/>
                                <VisualState x:Name="PreviousPageButtonVisible">
                                    <VisualState.Setters>
                                        <Setter Target="PreviousPageButton.Opacity" Value="100"/>
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="PreviousPageButtonCollapsed">
                                    <VisualState.Setters>
                                        <Setter Target="PreviousPageButton.Visibility" Value="Collapsed"/>
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>

                            <VisualStateGroup x:Name="PreviousPageButtonIsEnabledStates">
                                <VisualState x:Name="PreviousPageButtonDisabled"/>
                                <VisualState x:Name="PreviousPageButtonEnabled">
                                    <VisualState.Setters>
                                        <Setter Target="PreviousPageButton.IsEnabled" Value="True"/>
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>

                            <VisualStateGroup x:Name="NextPageButtonVisibilityStates">
                                <VisualState x:Name="NextPageButtonHidden"/>
                                <VisualState x:Name="NextPageButtonVisible">
                                    <VisualState.Setters>
                                        <Setter Target="NextPageButton.Opacity" Value="100"/>
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="NextPageButtonCollapsed">
                                    <VisualState.Setters>
                                        <Setter Target="NextPageButton.Visibility" Value="Collapsed"/>
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>

                            <VisualStateGroup x:Name="NextPageButtonIsEnabledStates">
                                <VisualState x:Name="NextPageButtonDisabled"/>
                                <VisualState x:Name="NextPageButtonEnabled">
                                    <VisualState.Setters>
                                        <Setter Target="NextPageButton.IsEnabled" Value="True"/>
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <Button x:Name="PreviousPageButton" Style="{TemplateBinding PreviousButtonStyle}"/>

                        <ScrollViewer x:Name="VerticalPipsScrollViewer"
                                      Grid.Row="1"
                                      VerticalScrollBarVisibility="Hidden"
                                      VerticalScrollMode="Disabled">
                            <muxc:ItemsRepeater x:Name="VerticalPipsItemsRepeater"
                                ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.VerticalPipsItems}">
                                <muxc:ItemsRepeater.ItemTemplate>
                                    <DataTemplate>
                                        <Button Tag="{Binding}" IsTabStop="False"/>
                                    </DataTemplate>
                                </muxc:ItemsRepeater.ItemTemplate>
                            </muxc:ItemsRepeater>
                        </ScrollViewer>

                        <Button x:Name="NextPageButton" Style="{TemplateBinding NextButtonStyle}" Grid.Row="2"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
